syntax = "proto3";

package proto;

option go_package = "github.com/troplet/pkg/proto";

import "google/protobuf/timestamp.proto";

message ProcessEntry {
  string id = 1;
  string name = 2;
  google.protobuf.Timestamp start_ts = 3;
  google.protobuf.Timestamp end_ts = 4;
}

message ProcessStreamEntry {
  string id = 1;
  bytes std_output = 2;
  bytes std_error = 3;
}

message ListProcessesRequest {
}

message ListProcessesResponse {
  repeated ProcessEntry entries = 1;
}

message LaunchProcessRequest {
  string command = 1;
}

message LaunchProcessResponse {
  ProcessStreamEntry stream_entry = 1;
}

message AttachProcessRequest {
  string id = 1;
}

message AttachProcessResponse {
  ProcessStreamEntry stream_entry = 1;
}

message TerminateProcessRequest {
  string id = 1;
}

message TerminateProcessResponse {
}
